!function(root,factory){"function"==typeof define&&define.amd?define(["underscore","backbone"],function(_,Backbone){return factory(_||root._,Backbone||root.Backbone)}):"object"==typeof exports?module.exports=factory(require("underscore"),require("backbone")):factory(_,Backbone)}(this,function(_,Backbone){"use strict";Backbone.History.prototype.navigate=_.wrap(Backbone.History.prototype.navigate,function(oldNavigate,fragment,options){var routeTriggered=oldNavigate.call(this,fragment,options);this.trigger("navigated",fragment,options,routeTriggered)}),Backbone.History.prototype.loadUrl=_.wrap(Backbone.History.prototype.loadUrl,function(oldLoadUrl,fragment){var routeTriggered=oldLoadUrl.call(this,fragment);return routeTriggered||this.trigger("routeNotFound",fragment),routeTriggered})});